module: pod-manager

replicas: 1


containers:
  image: ghcr.io/miletocarmelo/pod-manager
  name: python-frontend  # This should match the name in your deployment template
  tags: latest
  ports:
    containerPort: 80 # This should be the port your app listens on (http : 80, https : 443)

service:
  type: ClusterIP
  port: 80
  targetPort: 80

ingress:
  enabled: true  # Changed from 'enable' to 'enabled' for consistency
  metadata:
    annotations:
      pathRewrite: /
  # tls:
  #   enabled: true
  #   annotations:
  #     cert-manager.io/cluster-issuer: "letsencrypt-prod"
  # host: myhost  # Moved this out of 'hosts' array for simplicity
  spec:
    path: /
    pathType: Prefix